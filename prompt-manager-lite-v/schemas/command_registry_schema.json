{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Command Registry Schema",
  "description": "Schema for validating the CLI command registry structure",
  "type": "object",
  "properties": {
    "_purpose": {
      "type": "string",
      "description": "Purpose and description of this command registry"
    },
    "version": {
      "type": "string",
      "description": "Version of the command registry format"
    },
    "commands": {
      "type": "array",
      "description": "Array of command definitions",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The command name (without prefix)"
          },
          "description": {
            "type": "string", 
            "description": "Clear description of what the command does"
          },
          "category": {
            "type": "string",
            "enum": ["project", "artefact", "validation", "utility", "flow", "manifest"],
            "description": "Category of the command for organization"
          },
          "arguments": {
            "type": "array",
            "description": "Positional arguments for the command",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Name of the argument"
                },
                "description": {
                  "type": "string",
                  "description": "Description of the argument"
                },
                "required": {
                  "type": "boolean",
                  "description": "Whether this argument is required"
                },
                "type": {
                  "type": "string",
                  "enum": ["string", "integer", "float", "boolean"],
                  "description": "Expected type of the argument"
                }
              },
              "required": ["name", "description", "required", "type"]
            }
          },
          "flags": {
            "type": "array",
            "description": "Optional flags for the command",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Long form flag name (e.g., --verbose)"
                },
                "alias": {
                  "type": "string",
                  "description": "Short form alias (e.g., -v)"
                },
                "description": {
                  "type": "string",
                  "description": "Description of what the flag does"
                },
                "type": {
                  "type": "string",
                  "enum": ["boolean", "string", "integer", "float"],
                  "description": "Type of value the flag accepts"
                },
                "default": {
                  "description": "Default value for the flag"
                }
              },
              "required": ["name", "description", "type"]
            }
          },
          "examples": {
            "type": "array",
            "description": "Usage examples for the command",
            "items": {
              "type": "object",
              "properties": {
                "command": {
                  "type": "string",
                  "description": "Example command usage"
                },
                "description": {
                  "type": "string",
                  "description": "Description of what this example does"
                }
              },
              "required": ["command", "description"]
            }
          }
        },
        "required": ["name", "description", "category"]
      }
    }
  },
  "required": ["_purpose", "version", "commands"]
}
