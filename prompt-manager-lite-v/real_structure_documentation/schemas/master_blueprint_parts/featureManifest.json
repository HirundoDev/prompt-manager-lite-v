{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$comment": "Playbook: prompt_playbooks/schemas_playbooks/playbook_schema-featureManifest.md",
    "title": "Feature Manifest Schema",
    "description": "Comprehensive feature management schema following 2025 best practices for feature flags, product development lifecycle, and modern deployment strategies. Supports feature tracking, rollout management, and data-driven product decisions.",
    "type": "object",
    "required": [
        "metadata",
        "features",
        "featureFlags",
        "rolloutStrategies"
    ],
    "properties": {
        "metadata": {
            "type": "object",
            "description": "Feature manifest metadata and configuration",
            "required": [
                "name",
                "version",
                "lastUpdated"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Feature manifest name",
                    "examples": [
                        "Product Feature Catalog",
                        "Mobile App Features"
                    ]
                },
                "version": {
                    "type": "string",
                    "pattern": "^\\d+\\.\\d+\\.\\d+$",
                    "description": "Semantic version (major.minor.patch)"
                },
                "lastUpdated": {
                    "type": "string",
                    "format": "date-time",
                    "description": "ISO 8601 timestamp of last update"
                },
                "description": {
                    "type": "string",
                    "description": "Manifest description and scope"
                },
                "product": {
                    "type": "object",
                    "properties": {
                        "name": {
                            "type": "string"
                        },
                        "version": {
                            "type": "string"
                        },
                        "platform": {
                            "type": "string",
                            "enum": [
                                "web",
                                "mobile",
                                "desktop",
                                "api",
                                "multi-platform"
                            ]
                        }
                    }
                },
                "team": {
                    "type": "object",
                    "properties": {
                        "productManager": {
                            "type": "string"
                        },
                        "techLead": {
                            "type": "string"
                        },
                        "team": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "features": {
            "type": "array",
            "description": "Comprehensive feature catalog with lifecycle management",
            "items": {
                "type": "object",
                "required": [
                    "id",
                    "name",
                    "description",
                    "status",
                    "lifecycle"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "pattern": "^[A-Z]{2,4}-\\d{3,6}$",
                        "description": "Unique feature identifier (e.g., FEAT-1001, UX-2045)",
                        "examples": [
                            "FEAT-1001",
                            "UX-2045",
                            "API-3012"
                        ]
                    },
                    "name": {
                        "type": "string",
                        "description": "Feature display name",
                        "examples": [
                            "Advanced Search",
                            "Dark Mode",
                            "Real-time Notifications"
                        ]
                    },
                    "description": {
                        "type": "string",
                        "description": "Detailed feature description and purpose"
                    },
                    "category": {
                        "type": "string",
                        "enum": [
                            "core",
                            "enhancement",
                            "experimental",
                            "integration",
                            "security",
                            "performance",
                            "ui-ux"
                        ],
                        "description": "Feature category classification"
                    },
                    "priority": {
                        "type": "string",
                        "enum": [
                            "critical",
                            "high",
                            "medium",
                            "low"
                        ],
                        "description": "Business priority level"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "planned",
                            "in-development",
                            "testing",
                            "staged",
                            "released",
                            "deprecated",
                            "removed"
                        ],
                        "description": "Current development status"
                    },
                    "lifecycle": {
                        "type": "object",
                        "description": "Feature lifecycle management",
                        "required": [
                            "stage"
                        ],
                        "properties": {
                            "stage": {
                                "type": "string",
                                "enum": [
                                    "ideation",
                                    "discovery",
                                    "development",
                                    "alpha",
                                    "beta",
                                    "ga",
                                    "maintenance",
                                    "sunset"
                                ],
                                "description": "Current lifecycle stage"
                            },
                            "createdAt": {
                                "type": "string",
                                "format": "date-time"
                            },
                            "targetReleaseDate": {
                                "type": "string",
                                "format": "date"
                            },
                            "actualReleaseDate": {
                                "type": "string",
                                "format": "date"
                            },
                            "sunsetDate": {
                                "type": "string",
                                "format": "date"
                            },
                            "milestones": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "required": [
                                        "name",
                                        "date",
                                        "status"
                                    ],
                                    "properties": {
                                        "name": {
                                            "type": "string"
                                        },
                                        "date": {
                                            "type": "string",
                                            "format": "date"
                                        },
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "completed",
                                                "in-progress",
                                                "planned",
                                                "blocked"
                                            ]
                                        },
                                        "description": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "ownership": {
                        "type": "object",
                        "description": "Feature ownership and responsibility",
                        "properties": {
                            "productOwner": {
                                "type": "string"
                            },
                            "techLead": {
                                "type": "string"
                            },
                            "developmentTeam": {
                                "type": "string"
                            },
                            "qaOwner": {
                                "type": "string"
                            },
                            "stakeholders": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "businessValue": {
                        "type": "object",
                        "description": "Business impact and value metrics",
                        "properties": {
                            "objectives": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "successMetrics": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "required": [
                                        "name",
                                        "target"
                                    ],
                                    "properties": {
                                        "name": {
                                            "type": "string"
                                        },
                                        "target": {
                                            "type": "string"
                                        },
                                        "current": {
                                            "type": "string"
                                        },
                                        "unit": {
                                            "type": "string"
                                        }
                                    }
                                }
                            },
                            "impactLevel": {
                                "type": "string",
                                "enum": [
                                    "high",
                                    "medium",
                                    "low"
                                ]
                            },
                            "effort": {
                                "type": "object",
                                "properties": {
                                    "storyPoints": {
                                        "type": "number"
                                    },
                                    "estimatedHours": {
                                        "type": "number"
                                    },
                                    "complexity": {
                                        "type": "string",
                                        "enum": [
                                            "low",
                                            "medium",
                                            "high",
                                            "very-high"
                                        ]
                                    }
                                }
                            }
                        }
                    },
                    "userExperience": {
                        "type": "object",
                        "description": "User experience and interaction details",
                        "properties": {
                            "userStories": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "required": [
                                        "id",
                                        "story",
                                        "acceptanceCriteria"
                                    ],
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "story": {
                                            "type": "string"
                                        },
                                        "acceptanceCriteria": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "priority": {
                                            "type": "string",
                                            "enum": [
                                                "must-have",
                                                "should-have",
                                                "could-have",
                                                "wont-have"
                                            ]
                                        }
                                    }
                                }
                            },
                            "userSegments": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                },
                                "description": "Target user segments for this feature"
                            },
                            "accessibility": {
                                "type": "object",
                                "properties": {
                                    "wcagLevel": {
                                        "type": "string",
                                        "enum": [
                                            "A",
                                            "AA",
                                            "AAA"
                                        ]
                                    },
                                    "requirements": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "technical": {
                        "type": "object",
                        "description": "Technical implementation details",
                        "properties": {
                            "architecture": {
                                "type": "object",
                                "properties": {
                                    "components": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "services": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "databases": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "apis": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            },
                            "dependencies": {
                                "type": "object",
                                "properties": {
                                    "features": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "services": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "libraries": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "external": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            },
                            "performance": {
                                "type": "object",
                                "properties": {
                                    "requirements": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "benchmarks": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "metric": {
                                                    "type": "string"
                                                },
                                                "target": {
                                                    "type": "string"
                                                },
                                                "current": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "security": {
                                "type": "object",
                                "properties": {
                                    "requirements": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "threatModel": {
                                        "type": "string"
                                    },
                                    "dataClassification": {
                                        "type": "string",
                                        "enum": [
                                            "public",
                                            "internal",
                                            "confidential",
                                            "restricted"
                                        ]
                                    }
                                }
                            }
                        }
                    },
                    "testing": {
                        "type": "object",
                        "description": "Testing strategy and requirements",
                        "properties": {
                            "strategy": {
                                "type": "array",
                                "items": {
                                    "type": "string",
                                    "enum": [
                                        "unit",
                                        "integration",
                                        "e2e",
                                        "performance",
                                        "security",
                                        "accessibility",
                                        "usability"
                                    ]
                                }
                            },
                            "coverage": {
                                "type": "object",
                                "properties": {
                                    "target": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                    },
                                    "current": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                    }
                                }
                            },
                            "testCases": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "description": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string"
                                        },
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "planned",
                                                "in-progress",
                                                "completed",
                                                "blocked"
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "documentation": {
                        "type": "object",
                        "description": "Feature documentation references",
                        "properties": {
                            "requirements": {
                                "type": "string",
                                "format": "uri"
                            },
                            "technicalSpec": {
                                "type": "string",
                                "format": "uri"
                            },
                            "userGuide": {
                                "type": "string",
                                "format": "uri"
                            },
                            "apiDocs": {
                                "type": "string",
                                "format": "uri"
                            },
                            "designSpecs": {
                                "type": "string",
                                "format": "uri"
                            },
                            "releaseNotes": {
                                "type": "string",
                                "format": "uri"
                            }
                        }
                    },
                    "featureFlags": {
                        "type": "array",
                        "description": "Associated feature flags",
                        "items": {
                            "type": "string"
                        }
                    },
                    "rolloutStrategy": {
                        "type": "string"
                    },
                    "analytics": {
                        "type": "object",
                        "description": "Feature analytics and tracking",
                        "properties": {
                            "events": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "metrics": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "dashboards": {
                                "type": "array",
                                "items": {
                                    "type": "string",
                                    "format": "uri"
                                }
                            }
                        }
                    }
                }
            }
        },
        "featureFlags": {
            "type": "array",
            "description": "Feature flag definitions and management",
            "items": {
                "type": "object",
                "required": [
                    "key",
                    "name",
                    "type",
                    "defaultValue"
                ],
                "properties": {
                    "key": {
                        "type": "string",
                        "pattern": "^[a-z][a-z0-9_]*[a-z0-9]$",
                        "description": "Feature flag key in snake_case",
                        "examples": [
                            "new_checkout_flow",
                            "dark_mode_enabled",
                            "advanced_search"
                        ]
                    },
                    "name": {
                        "type": "string",
                        "description": "Human-readable flag name"
                    },
                    "description": {
                        "type": "string",
                        "description": "Flag purpose and behavior description"
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "boolean",
                            "string",
                            "number",
                            "json"
                        ],
                        "description": "Flag value type"
                    },
                    "defaultValue": {
                        "description": "Default flag value when not overridden"
                    },
                    "category": {
                        "type": "string",
                        "enum": [
                            "release",
                            "experiment",
                            "operational",
                            "permission",
                            "kill-switch"
                        ],
                        "description": "Flag category for organization"
                    },
                    "lifecycle": {
                        "type": "object",
                        "properties": {
                            "stage": {
                                "type": "string",
                                "enum": [
                                    "temporary",
                                    "permanent",
                                    "deprecated"
                                ]
                            },
                            "createdAt": {
                                "type": "string",
                                "format": "date-time"
                            },
                            "expiresAt": {
                                "type": "string",
                                "format": "date-time"
                            },
                            "cleanupDate": {
                                "type": "string",
                                "format": "date"
                            }
                        }
                    },
                    "environments": {
                        "type": "object",
                        "description": "Environment-specific flag configurations",
                        "properties": {
                            "development": {
                                "type": "object",
                                "properties": {
                                    "enabled": {
                                        "type": "boolean"
                                    },
                                    "value": {},
                                    "rolloutPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                    }
                                }
                            },
                            "staging": {
                                "type": "object",
                                "properties": {
                                    "enabled": {
                                        "type": "boolean"
                                    },
                                    "value": {},
                                    "rolloutPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                    }
                                }
                            },
                            "production": {
                                "type": "object",
                                "properties": {
                                    "enabled": {
                                        "type": "boolean"
                                    },
                                    "value": {},
                                    "rolloutPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                    }
                                }
                            }
                        }
                    },
                    "targeting": {
                        "type": "object",
                        "description": "User targeting and segmentation",
                        "properties": {
                            "userSegments": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "rules": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "condition": {
                                            "type": "string"
                                        },
                                        "value": {},
                                        "percentage": {
                                            "type": "number"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "dependencies": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "description": "Other flags this flag depends on"
                    },
                    "owner": {
                        "type": "string"
                    },
                    "tags": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "rolloutStrategies": {
            "type": "array",
            "description": "Feature rollout and deployment strategies",
            "items": {
                "type": "object",
                "required": [
                    "name",
                    "type",
                    "configuration"
                ],
                "properties": {
                    "name": {
                        "type": "string",
                        "description": "Strategy name",
                        "examples": [
                            "Canary Release",
                            "Blue-Green",
                            "Feature Toggle",
                            "A/B Test"
                        ]
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "canary",
                            "blue-green",
                            "feature-toggle",
                            "ab-test",
                            "gradual",
                            "big-bang"
                        ],
                        "description": "Rollout strategy type"
                    },
                    "description": {
                        "type": "string"
                    },
                    "configuration": {
                        "type": "object",
                        "description": "Strategy-specific configuration",
                        "properties": {
                            "phases": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "name": {
                                            "type": "string"
                                        },
                                        "percentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                        },
                                        "duration": {
                                            "type": "string"
                                        },
                                        "criteria": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        }
                                    }
                                }
                            },
                            "rollbackTriggers": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "successCriteria": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "monitoring": {
                        "type": "object",
                        "properties": {
                            "metrics": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "alerts": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "dashboards": {
                                "type": "array",
                                "items": {
                                    "type": "string",
                                    "format": "uri"
                                }
                            }
                        }
                    }
                }
            }
        },
        "relationships": {
            "type": "array",
            "description": "Feature relationships and dependencies",
            "items": {
                "type": "object",
                "required": [
                    "from",
                    "to",
                    "type"
                ],
                "properties": {
                    "from": {
                        "type": "string"
                    },
                    "to": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "depends-on",
                            "blocks",
                            "conflicts-with",
                            "enhances",
                            "replaces",
                            "relates-to"
                        ]
                    },
                    "description": {
                        "type": "string"
                    },
                    "strength": {
                        "type": "string",
                        "enum": [
                            "weak",
                            "medium",
                            "strong"
                        ]
                    }
                }
            }
        },
        "experiments": {
            "type": "array",
            "description": "A/B tests and feature experiments",
            "items": {
                "type": "object",
                "required": [
                    "id",
                    "name",
                    "hypothesis",
                    "variants"
                ],
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string"
                    },
                    "hypothesis": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "draft",
                            "running",
                            "paused",
                            "completed",
                            "cancelled"
                        ]
                    },
                    "variants": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "required": [
                                "name",
                                "percentage"
                            ],
                            "properties": {
                                "name": {
                                    "type": "string"
                                },
                                "description": {
                                    "type": "string"
                                },
                                "percentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "featureFlags": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    },
                    "metrics": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "name": {
                                    "type": "string"
                                },
                                "type": {
                                    "type": "string",
                                    "enum": [
                                        "conversion",
                                        "engagement",
                                        "retention",
                                        "revenue",
                                        "performance"
                                    ]
                                },
                                "target": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "duration": {
                        "type": "object",
                        "properties": {
                            "startDate": {
                                "type": "string",
                                "format": "date"
                            },
                            "endDate": {
                                "type": "string",
                                "format": "date"
                            },
                            "minSampleSize": {
                                "type": "number"
                            }
                        }
                    },
                    "results": {
                        "type": "object",
                        "properties": {
                            "winner": {
                                "type": "string"
                            },
                            "confidence": {
                                "type": "number"
                            },
                            "summary": {
                                "type": "string"
                            },
                            "recommendations": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "analytics": {
            "type": "object",
            "description": "Feature analytics and reporting configuration",
            "properties": {
                "tracking": {
                    "type": "object",
                    "properties": {
                        "events": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "properties": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        },
                        "metrics": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "counter",
                                            "gauge",
                                            "histogram",
                                            "timer"
                                        ]
                                    },
                                    "description": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "reporting": {
                    "type": "object",
                    "properties": {
                        "dashboards": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "url": {
                                        "type": "string",
                                        "format": "uri"
                                    },
                                    "description": {
                                        "type": "string"
                                    }
                                }
                            }
                        },
                        "reports": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "frequency": {
                                        "type": "string",
                                        "enum": [
                                            "daily",
                                            "weekly",
                                            "monthly",
                                            "quarterly"
                                        ]
                                    },
                                    "recipients": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "examples": [
        {
            "metadata": {
                "name": "E-commerce Platform Features",
                "version": "2.1.0",
                "lastUpdated": "2025-01-15T10:30:00Z",
                "description": "Feature catalog for e-commerce platform",
                "product": {
                    "name": "ShopPlatform",
                    "version": "3.2.0",
                    "platform": "web"
                }
            },
            "features": [
                {
                    "id": "FEAT-1001",
                    "name": "Advanced Product Search",
                    "description": "AI-powered search with filters, suggestions, and personalization",
                    "category": "core",
                    "priority": "high",
                    "status": "in-development",
                    "lifecycle": {
                        "stage": "development",
                        "createdAt": "2025-01-01T00:00:00Z",
                        "targetReleaseDate": "2025-03-15",
                        "milestones": [
                            {
                                "name": "MVP Complete",
                                "date": "2025-02-15",
                                "status": "in-progress"
                            }
                        ]
                    },
                    "ownership": {
                        "productOwner": "jane.doe@company.com",
                        "techLead": "john.smith@company.com",
                        "developmentTeam": "search-team"
                    },
                    "businessValue": {
                        "objectives": [
                            "Improve search conversion rate by 25%",
                            "Reduce search abandonment by 40%"
                        ],
                        "successMetrics": [
                            {
                                "name": "Search Conversion Rate",
                                "target": "25%",
                                "current": "18%",
                                "unit": "percentage"
                            }
                        ],
                        "impactLevel": "high"
                    },
                    "userExperience": {
                        "userStories": [
                            {
                                "id": "US-1001",
                                "story": "As a customer, I want to find products quickly using natural language search",
                                "acceptanceCriteria": [
                                    "Search returns relevant results within 200ms",
                                    "Auto-suggestions appear after 3 characters",
                                    "Filters are contextually relevant"
                                ],
                                "priority": "must-have"
                            }
                        ],
                        "userSegments": [
                            "new-customers",
                            "returning-customers"
                        ],
                        "accessibility": {
                            "wcagLevel": "AA",
                            "requirements": [
                                "Keyboard navigation",
                                "Screen reader support"
                            ]
                        }
                    },
                    "featureFlags": [
                        "advanced_search_enabled",
                        "ai_suggestions"
                    ],
                    "rolloutStrategy": "canary-release"
                }
            ],
            "featureFlags": [
                {
                    "key": "advanced_search_enabled",
                    "name": "Advanced Search Feature",
                    "description": "Enables the new AI-powered search functionality",
                    "type": "boolean",
                    "defaultValue": false,
                    "category": "release",
                    "lifecycle": {
                        "stage": "temporary",
                        "createdAt": "2025-01-01T00:00:00Z",
                        "cleanupDate": "2025-06-01"
                    },
                    "environments": {
                        "development": {
                            "enabled": true,
                            "value": true,
                            "rolloutPercentage": 100
                        },
                        "staging": {
                            "enabled": true,
                            "value": true,
                            "rolloutPercentage": 100
                        },
                        "production": {
                            "enabled": true,
                            "value": false,
                            "rolloutPercentage": 5
                        }
                    },
                    "targeting": {
                        "userSegments": [
                            "beta-users",
                            "internal-users"
                        ]
                    },
                    "owner": "search-team",
                    "tags": [
                        "search",
                        "ai",
                        "core-feature"
                    ]
                }
            ],
            "rolloutStrategies": [
                {
                    "name": "Canary Release",
                    "type": "canary",
                    "description": "Gradual rollout with monitoring and rollback capabilities",
                    "configuration": {
                        "phases": [
                            {
                                "name": "Internal Testing",
                                "percentage": 5,
                                "duration": "1 week",
                                "criteria": [
                                    "No critical bugs",
                                    "Performance within SLA"
                                ]
                            },
                            {
                                "name": "Beta Users",
                                "percentage": 25,
                                "duration": "2 weeks",
                                "criteria": [
                                    "Positive user feedback",
                                    "Conversion rate improvement"
                                ]
                            }
                        ],
                        "rollbackTriggers": [
                            "Error rate > 1%",
                            "Performance degradation > 20%"
                        ],
                        "successCriteria": [
                            "Zero critical bugs",
                            "User satisfaction > 4.0"
                        ]
                    }
                }
            ],
            "relationships": [
                {
                    "from": "FEAT-1001",
                    "to": "FEAT-1002",
                    "type": "enhances",
                    "description": "Advanced search enhances the product recommendation engine",
                    "strength": "medium"
                }
            ]
        }
    ]
}