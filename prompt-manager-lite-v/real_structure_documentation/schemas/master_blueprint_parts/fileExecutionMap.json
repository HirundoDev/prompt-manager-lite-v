{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$comment": "Playbook: prompt_playbooks/schemas_playbooks/playbook_schema-fileExecutionMap.md",
    "title": "File Execution Map",
    "description": "(Generated by Software Architect) A comprehensive inventory of all files in the project, detailing their purpose, language, and execution context.",
    "type": "object",
    "properties": {
        "files": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "path": { "type": "string" },
                    "language": { "type": "string" },
                    "purpose": { "type": "string" },
                    "dependencies": { "type": "array", "items": { "type": "string" } },
                    "isEntryPoint": { "type": "boolean" },
                    "command": { "type": "string" },
                    "env": { "type": "array", "items": { "type": "string" } },
                    "runtime": { "type": "string" },
                    "entryType": { "type": "string", "enum": ["script", "service", "job"] }
                },
                "required": ["path", "language", "purpose"]
            }
        },
        "entries": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "path": { "type": "string" },
                    "type": { "type": "string", "enum": ["script", "service", "job"] },
                    "run": { "type": "string" },
                    "env": { "type": "array", "items": { "type": "string" } },
                    "deps": { "type": "array", "items": { "type": "string" } }
                }
            }
        },
        "schedules": {
            "type": "array",
            "items": { 
                "type": "object", 
                "properties": { 
                    "id": { "type": "string" }, 
                    "cron": { "type": "string" }, 
                    "targets": { "type": "array", "items": { "type": "string" } } 
                } 
            }
        }
    }
}